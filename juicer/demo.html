<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="juicer.js"></script>
</head>
<body>
<div id="demo"></div>
<script id="tpl" type="text/template">

    <ul>
        {@each data as it,index}
        <li id="a${index}">${it.name} (index: ${index})</li>
        {@/each}
        <!--{@each blah as it}
        <li>
            num: ${it.num} <br />
            {@if it.num==3}
            {@each it.inner as it2}
            ${it2.time} <br />
            {@/each}
            {@/if}
        </li>
        {@/each}-->
    </ul>
</script>
<script>
    /*var data = {
        list: [
            {name:' guokai', show: true},
            {name:' benben', show: false},
            {name:' dierbaby', show: true}
        ],
        blah: [
            {num: 1},
            {num: 2},
            {num: 3, inner:[
                {'time': '15:00'},
                {'time': '16:00'},
                {'time': '17:00'},
                {'time': '18:00'}
            ]},
            {num: 4}
        ]
    };*/

    var data = {
        data:[
            {name:1,index:2},
            {name:2,index:2},
            {name:3,index:42},
            {name:51,index:5}
        ]};

    var tpl = document.getElementById('tpl').innerHTML;
    var html = juicer(tpl, data);
    document.getElementById('demo').innerHTML = html;
</script>
<!--<script type="text/javascript">
    var data={
        list:[
            {name:'guokai',show:true},
            {name:'benben',show:false},
            {name:'dier',show:true}
        ],
        blah:[
            {num:1},
            {num:2},
            {num:3,inner:[
                {'time':'15:00'},
                {'time':'16:00'},
                {'time':'17:00'},
                {'time':'18:00'}
            ]},
            {num:4}
        ]
    };
    var tpl=[
        '<ul>',
        '{@each list as it, k}',
        '<li>${it.name} (index: ${k})</li>',
        '{@/each}',
        '{# first level attribute must specify the "data." prefix}',
        '{@each blah as it}',
        '<li>',
        'num: ${it.num} <br />',
        '{@if it.num==3}',
        '{@each it.inner as it2}',
        '${it2.time} <br />',
        '{@/each}',
        '{@/if}',
        '</li>',
        '{@/each}',
        '</ul>'
    ].join('\n');
//    var inc=function(n) {
//        return n+1;
//    };
    var starttimestamp=new Date().getTime();
    /*juicer.set('cache',true);
    juicer.set('errorhandling',false);
    juicer.set('strip',true);
    juicer.set('detection',false);*/
    for(var i=0;i<1000;i++) {
        juicer(tpl,data);
    }
    var endtimestamp=new Date().getTime();
    var exhausttime=endtimestamp-starttimestamp;
    document.write(juicer(tpl,data));
    document.write('run time: '+exhausttime);
//    console.log(juicer(tpl).render.toString());
//    console.log(exhausttime);
</script>-->
</body>
</html>